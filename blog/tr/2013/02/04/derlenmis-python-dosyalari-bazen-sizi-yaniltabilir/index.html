<!DOCTYPE html>
<html lang="tr">
    <head>
        <title>Uğur “vigo” Özyılmazel | Derlenmiş Python Dosyaları Bazen Sizi Yanıltabilir</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">
        <link href="//fonts.googleapis.com/css?family=Merriweather:300,400,700,900|Roboto:400,700,300,900&mp;subset=latin-ext" rel="stylesheet" type='text/css'>
        <link rel="stylesheet" href="//use.fontawesome.com/3e4992419f.css">
        
        
        <link href="/public/css/application.css" rel="stylesheet" />
        <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed-tr.xml" />
        <meta name="date" content="2021-03-21T17:40:22+03:00" />
        <meta name="description" content="Suç kesinlikle Python’da değil! Yanlış anlaşılma olmasın! Geçtiğimiz günlerde 
yaşadığım iki dikkatsizliğin bana ciddi vakit kaybettirmesi bu blog postunu 
yazmama sebeb oldu." />
        <meta name="author" content="Uğur “vigo” Özyılmazel"/>
        <meta name="copyright" content="(c) 2006 / 2021 - Uğur “vigo” Özyılmazel" />
        <meta property="og:url" content="http://ugur.ozyilmazel.com/blog/tr/2013/02/04/derlenmis-python-dosyalari-bazen-sizi-yaniltabilir/" />
        <meta property="og:title" content="Derlenmiş Python Dosyaları Bazen Sizi Yanıltabilir" />
        <meta property="og:site_name" content="vigo" />
        <meta property="og:type" content="website" />
        <meta property="og:description" content="Suç kesinlikle Python’da değil! Yanlış anlaşılma olmasın! Geçtiğimiz günlerde 
yaşadığım iki dikkatsizliğin bana ciddi vakit kaybettirmesi bu blog postunu 
yazmama sebeb oldu." />
        <meta property="og:image" content="http://ugur.ozyilmazel.com/public/images/covers/2013-02-04-python.jpg" />
        <meta property="og:image:type" content="image/jpg" />
        <meta property="og:image:width" content="2560" />
        <meta property="og:image:height" content="1200" />
        <link rel="apple-touch-icon-precomposedposed" sizes="144x144" href="/public/images/icons/apple-touch-icon-144-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/public/images/icons/apple-touch-icon-114-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/public/images/icons/apple-touch-icon-72-precomposed.png">
        <link rel="apple-touch-icon-precomposed" href="/public/images/icons/apple-touch-icon-57-precomposed.png">
        <link href="/public/images/icons/favicon.png" rel="shortcut icon" type="image/png" />

    </head>
    <body class="blog blog_tr blog_tr_2013 blog_tr_2013_02 blog_tr_2013_02_04 blog_tr_2013_02_04_derlenmis-python-dosyalari-bazen-sizi-yaniltabilir blog_tr_2013_02_04_derlenmis-python-dosyalari-bazen-sizi-yaniltabilir_index">
        <a href="https://github.com/vigo/ugur.ozyilmazel.com" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#2077B2; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
            
    
    
<!-- page-top-nav -->
<nav id="page-top-nav" class="navbar">
    <button class="navbar-toggler hidden-md-up" type="button" data-toggle="collapse" data-target="#collapsable_navbar">&#9776;</button>
    <div class="collapse navbar-toggleable-sm" id="collapsable_navbar">
        <div class="container">
            <div class="row">
                <div class="col-xs-12 col-md-10 col-md-offset-1">

                    <ul class="list-inline nav navbar-nav">
<li class="list-inline-item nav-item"><a href="/">Anasayfa</a></li><li class="list-inline-item nav-item active"><a href="/blog/tr/">Blog</a></li><li class="list-inline-item nav-item"><a href="/sayfa/tr/sunumlar/">Sunumlar</a></li><li class="list-inline-item nav-item"><a href="/sayfa/tr/kitaplar/">Kitaplar</a></li>                        <li class="list-inline-item nav-item pull-md-right m-r-0">
                                <a title="English" href="/blog/en/">English</a>
                        </li>
                    </ul>

                </div>
            </div>
        </div>
    </div>
</nav>
<!-- /page-top-nav -->



    
    <!-- page cover -->
<div class="jumbotron jumbotron-fluid page-cover hidden-sm-down" style="background-image: url(/public/images/covers/2013-02-04-python.jpg);">
    <div class="page-cover-layer page-cover-layer-solid">
        <div class="container">
            <div class="text-xs-center">
                
                
            </div>
        </div>
    </div>
</div>
<!-- /page cover -->

    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-md-10 col-md-offset-1">
                <section id="article">
                    <h1><a href="/blog/tr/2013/02/04/derlenmis-python-dosyalari-bazen-sizi-yaniltabilir/">Derlenmiş Python Dosyaları Bazen Sizi Yanıltabilir</a></h1>
                    

                    <time pubdate datetime="2013-02-04T12:15:00+02:00" title="04 Şubat 2013, Pazartesi 12:15">
                        04 Şubat 2013, Pazartesi 12:15
                    </time>

                    <header>
                            <span class="label label-default label-custom"><a href="/blog/tr/etiket/python/">python</a></span>
                            <span class="label label-default label-custom"><a href="/blog/tr/etiket/django/">django</a></span>
                            <span class="label label-default label-custom"><a href="/blog/tr/etiket/pyc/">pyc</a></span>
                            <span class="label label-default label-custom"><a href="/blog/tr/etiket/pyo/">pyo</a></span>
                            <span class="label label-default label-custom"><a href="/blog/tr/etiket/uncompyle/">uncompyle</a></span>
                    </header>

                    <div id="markdown">
                        <p>Suç kesinlikle Python’da değil! Yanlış anlaşılma olmasın! Geçtiğimiz günlerde 
yaşadığım iki dikkatsizliğin bana ciddi vakit kaybettirmesi bu blog postunu 
yazmama sebeb oldu.
</p>

<p><a href="https://www.djangoproject.com/" title="Django Project">Django</a> framework kullanarak bir uygulama geliştiriyoruz. Yaklaşık 6
aydır üzerinde çalışıyoruz. Django, gereken yerlerde ilgili python dosyalarını
derliyor. Yani; <code>admin.py</code> adında bir dosya varsa, development sunucusunu
çalıştırdıktan sonra <code>admin.pyc</code> dosyasının oluştuğunu görürüz.</p>

<p>Derlenen python hem hız hem de hafıza yönetimi açısından işleri kolay ve çabuk
hale getiriyor. Buraya kadar hiç bir sıkıntı yok. Sıkıntı, uzun saatler
çalışıp dikkati kaybettiğiniz anda başlıyor.</p>

<p>Hiç farkında olmadan ilgili app’in altındaki <code>admin.py</code> dosyasını silmişim.
<code>admin.pyc</code> dosyası ise halen oradaymış. Ben farkında bile değilim. Admin
panel’e rahat rahat giriyorum, çıkıyorum hiçbir sıkıntı yok. Ne zaman kadar?
<code>ModelAdmin</code> e yeni özellik ekleyene kadar&hellip;</p>

<p>İşin kötüsü, django programcıları bilirler, <code>admin.py</code> de de çok fazla şey vardı.
<strong>Custom</strong> pek çok şey&hellip; Hepsi uçmuş gitmiş&hellip; Ne yapacağız? Silme öyle bir
silme ki, versiyon kontrol’den de çıkartmışım nasıl yaptıysam? Yani <code>git rm</code>
ile silmiş ve bu silme işinden sonra yazmışım tüm kodu gibi&hellip;</p>

<p>Hemen google’ladım, <code>.pyc</code> dosyasından nasıl <code>.py</code> üretebilirim diye. Hemen
<a href="https://github.com/gstarnberger/uncompyle">uncompyle</a>’ı buldum. Kullanımı çok kolay</p>
<pre class="highlight plaintext"><code>uncompyler.py DOSYA.pyc &gt; DOSYA_KURTAR.py
</code></pre>

<p>şeklinde dosyayı kurtardım.</p>

<p>Bu da yetmedi, evde çalışmak için projeyi clone’ladım. Gereken kurulumları
yaptım. Çalıştırdım&hellip; BOOOOM! Hata mesajı! Hata ne? neredeyse uygulamanın
<strong>ana</strong> kütüphanelerinden biri olan dosyayı <code>import</code> edemiyor&hellip; Klasik
<code>PATH</code> sorunu ama böyle birşey olması mümkün değil&hellip;</p>

<p>Saatlerce uğraşıp yine görüyorum ki, <code>libs/</code> altında bulunması gereken
<code>__init__.py</code> dosyası uçmuş&hellip; Diğer makinelerde düzgün çalışıyor çünkü
derlenmiş hali bu sorunu kurtarıyor. Yani dosya varken python derlemiş,
dosya uçmuş ama sorun yok. <code>.pyc</code> her şeyi çözüyor.</p>

<p><code>git blame</code> ile bakıyorum, yine ben, neredeyse 1 ay önce silmişim dosyayı.
Python’da <code>__init__.py</code> çok önemlidir. Herhangi bir dizin içinde bu dosya
varsa; o dizinin paket/modül gibi kullanılabileceğini anlatır.</p>

<p>Yani;</p>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">my_project.libs.functions</span> <span class="kn">import</span> <span class="n">test_function</span>
</code></pre>

<p>dersem; bu <code>my_project/libs/functions.py</code> dosyasından <code>test_function</code> adlı
fonksiyonu import et anlamına gelir. (<em>Kabaca verdim bu örneği</em>) Bu örneğin
sağlıklı çalışması için <code>my_project</code> dizini altında <code>__init__.py</code> olması
<strong>zorunludur</strong>.</p>

<p>Yaşadığım iki sorun da aslında ilk ve büyük hata tabiki bende. Daha dikkatli
olsam bunlar başıma gelmeyecekti. Şunu gördüm ki, ben bile, bile derken en az
15 yıldır yazılım geliştiriyorum, çok basit hataları yapabiliyorum.</p>

<p>Önemli olan bu hatalardan ders çıkarıp tekrar bu kuyuya düşmemek.</p>

<p>Bunun içinde, yaptığım ilk iş Python’un <code>pyc</code> ya da <code>pyo</code> dosyası oluşturma
işini kapattım. Proje bazlı. <a href="http://http//www.virtualenv.org/">virtualenv</a> ve <a href="http://www.doughellmann.com/projects/virtualenvwrapper/">virtualenvwrapper</a>
kullanıyorum. Çalıştığım projeye geçerken ufak bir hook ile şu değişkeni
set ediyorum:</p>
<pre class="highlight plaintext"><code>export PYTHONDONTWRITEBYTECODE="1"
</code></pre>

<p>Böylece <code>pyc</code> dosyaları otomatik olarak oluşmayacak. Ben de yanlışlıkla
birşeyleri sildiğim zaman <strong>anında</strong> farkedeceğim.</p>

                    </div>
                    
                    <hr/>
<div id="related-articles">
    <ul class="list-unstyled">
    <li>
        <h1>İlişkili Makaleler</h1>
        <p>Konu ile ilgili toplam “9” adet bağlantılı makale bulunuyor.</p>
    </li>
        <li>
            <h3><a href="/blog/tr/2012/10/26/python-fonksiyonu-nasil-yazilmali/">Python fonksiyonu nasıl yazılmalı?</a></h3>
            <time pubdate datetime="2012-10-26T00:03:00+03:00" title="26 Ekim 2012, Cuma 00:03">
                26 Ekim 2012, Cuma 00:03
            </time>
            <p><a href="http://coursera.org" title="Coursera">Coursera</a>’dan aldığım <a href="https://class.coursera.org/programming1-2012-001/class/index">Learn to Program: The Fundamentals</a> dersinde
bugüne kadar görmediğim bir şeyi sizlerle paylaşmak istiyorum.
</p>
        </li>
        <li>
            <h3><a href="/blog/tr/2012/10/25/ozgur-web-gunleri-2012/">Özgür Web Günleri 2012</a></h3>
            <time pubdate datetime="2012-10-25T15:50:00+03:00" title="25 Ekim 2012, Perşembe 15:50">
                25 Ekim 2012, Perşembe 15:50
            </time>
            <p>Geçtiğimiz hafta düzenlenen (<em>19-20 Ekim</em>) <a href="http://www.ozgurwebgunleri.org.tr/2012/" title="Özgür Web Günleri, 2012">Özgür Web Günleri 2012</a>’de
hayatımın ilk sunumunu yaptım! Evet, ilk sunum. Aslında daha önceleri 
<a href="http://en.wikipedia.org/wiki/Demoscene" title="Demoscene">Demoscene</a> partilerinde pek çok kez sunum, açık oturum, panel vs
gibi şeylere katılmış / yapmıştım ama…
</p>
        </li>
        <li>
            <h3><a href="/blog/tr/2011/11/26/webkit2png-ile-ekran-goruntusu-almak/">webkit2png ile ekran görüntüsü almak</a></h3>
            <time pubdate datetime="2011-11-26T23:56:00+02:00" title="26 Kasım 2011, Cumartesi 23:56">
                26 Kasım 2011, Cumartesi 23:56
            </time>
            <p>Uzunca bir zamandır yazmak istediğim fakat fırsat bulamadığım bir konu:
Python’la yazılmış <strong>CommandLine Tool</strong>’u yani Terminal’den çalışan bir script.
</p>
        </li>
        <li>
            <h3><a href="/blog/tr/2011/03/30/pythonpathe-ilave/">PYTHONPATH’e ilave</a></h3>
            <time pubdate datetime="2011-03-30T15:40:00+03:00" title="30 Mart 2011, Çarşamba 15:40">
                30 Mart 2011, Çarşamba 15:40
            </time>
            <p><a href="http://en.wikipedia.org/wiki/AppleScript" title="AppleScript">AppleScript</a> ile pek çok uygulama (<em>tabi desteği varsa</em>) kontrol edilebiliyor.
Yine daldan dala atlarken python için yazılmış <a href="http://pypi.python.org/pypi/appscript/1.0.0">appscript</a>
diye bir modül gördüm. Hemen <code>pip</code>’den kurayım dedim.
</p>
        </li>
        <li>
            <h3><a href="/blog/tr/2011/03/23/bu-defa-son/">Bu defa son</a></h3>
            <time pubdate datetime="2011-03-23T15:30:00+02:00" title="23 Mart 2011, Çarşamba 15:30">
                23 Mart 2011, Çarşamba 15:30
            </time>
            <p>Biliyorum daha dün (<em>ya da önceki gün</em>) bu konu ile ilgili bir güncelleme
yapmıştım fakat asıl yapmam gerekeni daha yeni hatırladım. Hatta kendi
tarafımda pek çok şeyi de düzeltmek zorunda kaldım.
</p>
        </li>
        <li>
            <h3><a href="/blog/tr/2011/03/22/kendi-pythonunu-kendin-kur-yazimda-eksik-yerler-buldum/">Kendi Python’unu kendin kur yazımda eksik yerler buldum</a></h3>
            <time pubdate datetime="2011-03-22T15:45:00+02:00" title="22 Mart 2011, Salı 15:45">
                22 Mart 2011, Salı 15:45
            </time>
            <p>Geçtiğimiz günlerde yazdığım <a href="/blog/tr/2011/02/10/kendi-pythonunu-djangonu-paketlerini-kendin-kur/">yazımda</a> çok önemli bir eksiklik
yaptığımı bugün farkettim. Neden bugün? Bugün yeni makine kuruyordum ve sıra
<a href="http://python.org" title="Python">Python</a>’u kurmaya gelmişti. Hemen blog’umu açıp kendi yazdığım yazımı 
okumaya başladım.
</p>
        </li>
        <li>
            <h3><a href="/blog/tr/2011/02/10/kendi-pythonunu-djangonu-paketlerini-kendin-kur/">Kendi Python’unu Django’nu paketlerini kendin kur</a></h3>
            <time pubdate datetime="2011-02-10T12:58:00+02:00" title="10 Şubat 2011, Perşembe 12:58">
                10 Şubat 2011, Perşembe 12:58
            </time>
            <p><strong>Düzeltme: 23 Mart 2011, 15:33</strong><br>
Lütfen önce <a href="/blog/tr/2011/03/23/bu-defa-son/">bu yazıyı</a> okuyun!
</p>
        </li>
        <li>
            <h3><a href="/blog/tr/2010/02/28/python-kitabi/">Python kitabı</a></h3>
            <time pubdate datetime="2010-02-28T11:44:00+02:00" title="28 Şubat 2010, Pazar 11:44">
                28 Şubat 2010, Pazar 11:44
            </time>
            <p>Cuma günü, her cuma olduğu gibi, İstanbul Cevahir AVM’ne gittik. Cuma bizim 
ofiste <a href="http://cils.blogspot.com/search/label/cevahir" title="Cevahir etiketli ofis postları">CEVO</a> günüdür, öğlen Çin yemeği yeriz <strong>Great Dong Fang</strong> 
adlı restoranda.
</p>
        </li>
        <li>
            <h3><a href="/blog/tr/2009/07/29/django-icin-bash-completion/">Django için bash completion</a></h3>
            <time pubdate datetime="2009-07-29T15:59:00+03:00" title="29 Temmuz 2009, Çarşamba 15:59">
                29 Temmuz 2009, Çarşamba 15:59
            </time>
            <p>Az önce başardığım, aslında çok bilindiğini düşündüğüm fakat etrafımdaki
<a href="https://www.djangoproject.com/" title="Django Project">Django</a>’cu kardeşimlerimden duymadığım bir özellikten bahsetmek
istiyorum! </p>
        </li>
    </ul>
</div>
<hr/>

                    
                    <ul id="prev-next-articles" class="list-inline">
                        <li class="list-inline-item li-left">
                            <a href="/blog/tr/2012/10/28/js-istanbul-2012/">&laquo; JS İstanbul 2012</a>
                            <time pubdate datetime="2012-10-28T12:25:00+02:00" title="28 Ekim 2012, Pazar">28 Ekim 2012, Pazar</time>
                        </li>
                        <li class="list-inline-item pull-sm-right m-r-0 text-md-right li-right">
                            <a href="/blog/tr/2013/02/20/bash-completion-anotomisi/">Bash Completion Anotomisi &raquo;</a>
                            <time pubdate datetime="2013-02-20T23:37:00+02:00" title="20 Şubat 2013, Çarşamba">20 Şubat 2013, Çarşamba</time>
                        </li>
                    </ul>
                </section>

                    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'ugurozyilmazel';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>
        Lütfen, <a href="http://disqus.com/?ref_noscript">Disqus</a> tarafından sağlanan yorumları görmek için JavaScript&rsquo;i aktive edin.
    </noscript>


            </div>
        </div>
    </div>

    <!-- footer -->
<div id="footer">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-md-10 col-md-offset-1">

                <nav id="footer-nav">
                    <ul class="list-inline">
                        <li class="list-inline-item"><a title="C64 Scener Database" href="http://csdb.dk/scener/?id=8379">CSDB</a></li>
                        <li class="list-inline-item"><a title="Zombie Boys" href="http://zombieboys.net">Zombie Boys</a></li>
                        <li class="list-inline-item"><a title="Bronx" href="http://bronxwhq.org">Bronx</a></li>
                        <li class="list-inline-item pull-md-right m-r-0 m-l-2"><a title="GitHub" href="/feed-tr.xml"><span class="fa-stack fa-1x"><i class="fa fa-circle-thin fa-stack-2x"></i><i class="fa fa-rss fa-stack-1x fa-inverse"></i></span></a></li>
                        <li class="list-inline-item pull-md-right m-r-0 m-l-2"><a title="GitHub" href="https://github.com/vigo"><span class="fa-stack fa-1x"><i class="fa fa-circle-thin fa-stack-2x"></i><i class="fa fa-github fa-stack-1x fa-inverse"></i></span></a></li>
                    </ul>
                </nav>

            </div>
        </div>
    </div>
</div>
<!-- /footer -->

        
        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/tether/1.3.2/js/tether.min.js"></script>
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/js/bootstrap.min.js" integrity="sha384-vZ2WRJMwsjRMW/8U7i6PWi6AlO1L79snBrmgiDpgIWJ82z8eA5lenwvxbMV1PAh7" crossorigin="anonymous"></script>
        
        
        
        <script src="/public/js/application.js"></script>
        
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
          ga('create', 'UA-6463685-2', 'auto');
          ga('send', 'pageview');
        </script>
        
    </body>
</html>
